{{define "ormTableCodePgx"}}
{{if .BuildTags}}
//go:build {{.BuildTags}}

{{end}}// Code generated by sqlc. DO NOT EDIT.
{{if not .OmitSqlcVersion}}// versions:
//   sqlc {{.SqlcVersion}}
{{end}}
// TA - table alias
// TAT - table alias templater
// FA - field alias

package {{.Package}}
{{ if hasImports .SourceName }}
import (
	{{range imports .SourceName}}
	{{range .}}{{.}}
	{{end}}
	{{end}}
)
{{end}}

// -------------------------TABLES--------------------------------------------------------------------------------------

type ormTableAlias interface {
	mustOrmTableAlias()
	String() string
}

func ormTableAliasCast(t string) ormTableAlias { return ormTableAliasImpl(t) }

type ormTableAliasImpl string

func (ormTableAliasImpl) mustOrmTableAlias() {}
func (o ormTableAliasImpl) String() string { return string(o) }

const(
{{- range .Structs}}
    {{ lowerTitle .Name}}TableAlias ormTableAliasImpl = "{{dbName .Name}}"
{{- end}}
)

// -------------------------FIELDS--------------------------------------------------------------------------------------
type ormFieldAlias interface {
    mustOrmFieldAlias()
    String() string
}

{{- range .Structs}}
{{- $Struct:= .}}
type {{lowerTitle .Name}}Aliases struct {
    T ormTableAlias
    F {{lowerTitle .Name}}FieldAliases
}

func new{{.Name}}Aliases() *{{lowerTitle .Name}}Aliases {
    return &{{lowerTitle .Name}}Aliases{
        T: {{lowerTitle .Name}}TableAlias,
        F: {{lowerTitle .Name}}FieldAliases{
            {{ range $idx,$field := .Fields}}
            {{.Name}}: {{lowerTitle $Struct.Name}}{{.Name}},
            {{- end}}
        },
    }
}


type {{lowerTitle $Struct.Name}}FieldAliases struct {
    {{ range $idx,$field := .Fields}}
    {{.Name}} {{lowerTitle $Struct.Name}}FieldAlias
    {{- end}}
}

type (
    {{lowerTitle $Struct.Name}}FieldAlias string
    must{{$Struct.Name}}FieldAlias interface {
    ormFieldAlias
    must{{$Struct.Name}}FieldAlias()
    }
)

func ({{lowerTitle $Struct.Name}}FieldAlias) must{{$Struct.Name}}FieldAlias () {}
func ({{lowerTitle $Struct.Name}}FieldAlias) mustOrmFieldAlias () {}
func (a {{lowerTitle $Struct.Name}}FieldAlias) String() string { return string(a) }

const (
{{ range $idx,$field := .Fields}}
    {{lowerTitle $Struct.Name}}{{.Name}} {{lowerTitle $Struct.Name}}FieldAlias = "{{dbName $field.Name}}"
{{- end}}
)
{{- end}}



{{end}}